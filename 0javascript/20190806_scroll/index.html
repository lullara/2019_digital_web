<!DOCTYPE html>
<html lang="ko">
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge">
	<meta charset="UTF-8">
	<title>scroll menu</title>
	<link rel="stylesheet" href="../../css/reset.css">
	<script src="../js/jquery-3.3.1.min.js"></script>z
	<style>
		body{background-color: #545454;}
		.wrap{width: 950px; margin: 0 auto; padding-bottom: 400px; }
		#top_menu{width: 950px; height: 115px; background-color: #545454;position: fixed;}
		#top_menu h1{float: left;padding-top: 40px;}
		#top_menu ul.nav{float: right;}
		#top_menu ul.nav li{float: left;}
		#top_menu ul.nav li a{display: block;padding: 60px 0 0 60px; color:white;}
		#top_menu ul li.on a{color:red;}
		#contents{padding-top: 115px;}
		img{display: block;}
		

	</style>
	<script>
		$(document).ready(function(){
			var menu = $("#top_menu> ul >li"); //클릭메뉴
			var contents = $("#contents > div"); //이미지 위치 

			menu.click(function(){
				var i = $(this).index();
				var tt = contents.eq(i).offset().top-115;
				console.log(tt);
				$("html").stop().animate({scrollTop:tt});
			});

			$(window).scroll(function(){
				var sct = $(window).scrollTop();
				console.log("스크롤값:"+sct);
				
				
				// if(sct >= contents.eq(0).offset().top-116){
				// 	menu.removeClass("on");
				// 	menu.eq(0).addClass("on");
				// }
				 
				// if(sct >=contents.eq(1).offset().top-116){
				// 	menu.removeClass("on");
				// 	menu.eq(1).addClass("on");
				// }
				 
				// if(sct >= contents.eq(2).offset().top-116){
				// 	menu.removeClass("on");
				// 	menu.eq(2).addClass("on");
				// }



				// -------------each문-------------
				// contents.each(function(index){
				// 	if(sct >= contents.eq(index).offset().top-116){
				// 	// if(sct >= $(this).offset().top-116){
				// 	menu.removeClass("on");
				// 	menu.eq(index).addClass("on");
				// 	}



				// --------------for문-------------
				for(var i=0; i<contents.length;i++){
					if(sct >= contents.eq(i).offset().top-116){
					menu.removeClass("on");
					menu.eq(i).addClass("on");
					}

				}

				




				// --------------원래 했던거-------------


				var paper = contents.eq(0).offset().top-116;
				if(sct >= paper){
					menu.removeClass("on");
					menu.eq(0).addClass("on");
				}
				var works = contents.eq(1).offset().top-116;
				if(sct >= works){
					menu.removeClass("on");
					menu.eq(1).addClass("on");
				}
				var email = contents.eq(2).offset().top-116;
				if(sct >= email){
					menu.removeClass("on");
					menu.eq(2).addClass("on");
				}





				
				
			});

		});
	</script>
</head>
<body>
	<div class="wrap">
		<header id="top_menu" class="clearfix">
			<h1>logo</h1>
			<ul class="nav clearfix">
				<li class="on"><a href="#paper">paper</a></li>
				<li><a href="#works">works</a></li>
				<li><a href="#email">email</a></li>
			</ul>
		</header>
		<div id="contents">
			<div id="paper"><img src="../../images/paper.jpg" alt=""></div>
			<div id="works"><img src="../../images/work.jpg" alt=""></div>
			<div id="email"><img src="../../images/email.jpg" alt=""></div>
		</div>
	</div>
</body>
</html>